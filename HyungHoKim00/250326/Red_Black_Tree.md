## Red Black Tree
이진 검색 트리 형식의 자료구조.   
이진 검색 트리가 한 쪽으로 편향되어 선형적 구조에 가까워질 경우, 검색 효율이 떨어진다.   
이를 보완하기 위해 만들어진 트리.

### 특징
1. 각 노드는 Red, Black 두 가지 색을 갖는다
2. 루트 노드는 Black이다.
3. 모든 리프 노드는 Black이고, null 리프이다. (NIL)
4. 어떤 노드가 Red라면 그 자식은 Black이다.
5. 모든 리프 노드에서 루트 노드까지 Black의 개수(Depth)는 같다.
6. 새로 삽입되는 노드는 Red이다.

## 삽입
빨간색 노드를 삽입하면, 조건 4를 위반하는 경우가 생긴다.   
이를 해결하기 위해 두 가지 방법이 있다.

### Restructing
삼촌 노드가 검은색이면 Restruction이 일어난다.
1. 삽입 노드와 부모 노드, 할아버지 노드를 오름차순으로 정렬한다.
2. 가운데 값을 부모로 만들고, 나머지를 자식으로 만든다.
3. 부모는 검은색, 두 자식은 빨간색으로 만든다.

### Recoloring
삼촌 노드가 빨간색이면 Recoloring이 일어난다.
1. 부모 노드와 삼촌 노드를 검은색으로 변경하고, 할아버지 노드를 빨간색으로 변경한다.
2. 루트가 Red라 된다면, 루트를 Black으로 변경한다.
3. 또다시 조건 4를 위반한다면, 할아버지 노드를 중심으로 recoloring과 restructing 중 하나를 수행한다.

## 삭제
삭제를 할 때는, 삭제되는 노드의 색이 중요하다.   
삭제하려는 노드의 자녀가 없거나 하나라면, 삭제되는 색은 삭제되는 노드의 색과 같다.   
하지만 노드의 자녀가 둘이라면, 삭제되는 색은 삭제되는 노드의 successor의 색과 같다.   
successor: 오른쪽 서브트리의 가장 왼쪽 노드   

삭제되는 색이 red라면 어떠한 속성도 위반하지 않는다.
하지만, black이 삭제되면 다른 속성을 위반할 수 있다.   

5번 속성을 위반했을 떄, 삭제된 색의 위치를 대체한 노드에 extra black을 부여한다.   
extra black: 하나의 black으로 카운트됨.

doubly black: 검은색 노드에 extra black이 부여됨.
red and black: 빨간색 노드에 extra black이 부여됨.   

red and black의 경우, 빨간색 노드를 검은색으로 바꾸면 해결할 수 있음.   
하지만, doubly black을 해결하기 위해선 4가지 방법이 존재함.   

### case 4: 오른쪽 형제가 black, 그 형제의 오른쪽 자녀가 red 
1. 오른쪽 형제와 부모의 색을 변경
2. 오른쪽 자녀를 black으로 변경
3. 부모 기준 왼쪽으로 회전

### case 3: 오른쪽 형제가 black, 그 형제의 왼쪽 자녀는 red, 오른쪽 자녀는 black
1. 오른쪽 형제의 색과 그의 왼쪽 자녀의 색을 바꾼다.
2. 오른쪽 형제를 기준으로 오른쪽으로 회전
3. 이후 case 4를 사용하여 해걸

### case 2: 형제가 black이고, 그 형제의 두 자녀 모두 black
1. 형제를 red로 변경하고, 부모에게 extra black을 부여
2. 부모가 red라면 red로 변경, 혹은 다시 부모 기준으로 extra black을 해결

### case 1: 오른쪽 형제가 red
1. 부모와 형제의 색을 변경
2. 부모를 기준으로 왼쪽으로 회전
3. 위의 케이스 중 하나로 해

## 시간 복잡도
avg, worst 케이스 모두 삽입/삭제/검색이 O(logN)
